import{a as y}from"./chunk-TA72PURZ.js";import{b as x,c as _}from"./chunk-ZXDUXUS2.js";import{a as C}from"./chunk-MMUSKXOL.js";import{c as h,f as g,h as S,o as j}from"./chunk-3M5UH2B5.js";import"./chunk-3BA7FMGK.js";import"./chunk-OUIXM5MW.js";import"./chunk-P74D5YH2.js";import{e as v}from"./chunk-AGUO72EF.js";import{La as m,Sa as r,Ta as i,Ua as k,Wa as d,Y as w,eb as s,ib as a,jb as c,kb as b,mb as f,ya as q,za as n}from"./chunk-NTXE5QSV.js";import"./chunk-GAL4ENT6.js";var M=class u{constructor(o,t){this.forumService=o;this.router=t;let l=this.router.getCurrentNavigation();this.categoryId=l?.extras?.state?.categoryId,console.log(this.categoryId)}categoryId;newSubjectTitle="";newSubjectContent="";createTopic(){if(!this.newSubjectTitle||!this.newSubjectContent){alert("Veuillez remplir tous les champs.");return}this.forumService.createSubjectWithPost(this.categoryId,this.newSubjectTitle,this.newSubjectContent).subscribe({next:o=>{alert("Sujet cr\xE9\xE9 avec succ\xE8s"),this.router.navigate(["/forum/subject",o.subjectId])},error:o=>{console.error("Erreur lors de la cr\xE9ation du sujet:",o),alert("Erreur lors de la cr\xE9ation du sujet")}})}static \u0275fac=function(t){return new(t||u)(n(y),n(v))};static \u0275cmp=w({type:u,selectors:[["app-new-subject"]],standalone:!0,features:[f],decls:9,vars:3,consts:[[1,"relative","flex","flex-wrap","justify-center","top-[160px]","md:top-[125px]","mx-20","pb-[45px]"],[1,"w-3/4"],[1,"text-white-base","font-revalia"],["type","text","placeholder","Titre du sujet",1,"w-full","h-[40px]","px-4","mb-[16px]","rounded-sm","border","border-white-base","text-white-base",3,"ngModelChange","ngModel"],[1,"w-full","h-[200px]","my-[16px]",3,"ngModelChange","ngModel","placeholder"],[1,"btn","btn-orange","w-full","mt-[16px]",3,"click"]],template:function(t,l){t&1&&(k(0,"app-user-snippet"),r(1,"div",0)(2,"div",1)(3,"label",2),s(4,"Titre du sujet"),i(),r(5,"input",3),b("ngModelChange",function(e){return c(l.newSubjectTitle,e)||(l.newSubjectTitle=e),e}),i(),r(6,"quill-editor",4),b("ngModelChange",function(e){return c(l.newSubjectContent,e)||(l.newSubjectContent=e),e}),i(),r(7,"button",5),d("click",function(){return l.createTopic()}),s(8,"Envoyer le message"),i()()()),t&2&&(q(5),a("ngModel",l.newSubjectTitle),q(),a("ngModel",l.newSubjectContent),m("placeholder","Votre message..."))},dependencies:[C,_,x,j,h,g,S],styles:[".ql-toolbar.ql-snow{border:0px;background:var(--color-orange);margin-bottom:8px;border-radius:5px}  .ql-snow .ql-stroke{stroke:var(--color-white-base)}  .ql-snow .ql-fill,   .ql-snow .ql-stroke.ql-fill{fill:var(--color-white-base)}  .ql-snow.ql-toolbar button:hover .ql-stroke,   .ql-snow .ql-toolbar button:hover .ql-stroke,   .ql-snow.ql-toolbar button:focus .ql-stroke,   .ql-snow .ql-toolbar button:focus .ql-stroke,   .ql-snow.ql-toolbar button.ql-active .ql-stroke,   .ql-snow .ql-toolbar button.ql-active .ql-stroke,   .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,   .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,   .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,   .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,   .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,   .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,   .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,   .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,   .ql-snow.ql-toolbar button:hover .ql-stroke-miter,   .ql-snow .ql-toolbar button:hover .ql-stroke-miter,   .ql-snow.ql-toolbar button:focus .ql-stroke-miter,   .ql-snow .ql-toolbar button:focus .ql-stroke-miter,   .ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,   .ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,   .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,   .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,   .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,   .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,   .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,   .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,   .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,   .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter{stroke:var(--color-blue)}  .ql-snow.ql-toolbar button:hover .ql-fill,   .ql-snow .ql-toolbar button:hover .ql-fill,   .ql-snow.ql-toolbar button:focus .ql-fill,   .ql-snow .ql-toolbar button:focus .ql-fill,   .ql-snow.ql-toolbar button.ql-active .ql-fill,   .ql-snow .ql-toolbar button.ql-active .ql-fill,   .ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,   .ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,   .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,   .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,   .ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,   .ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,   .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,   .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,   .ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,   .ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,   .ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,   .ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,   .ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,   .ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,   .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,   .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,   .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,   .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,   .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,   .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,   .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,   .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill{fill:var(--color-blue)}  .ql-container.ql-snow{border:2px solid var(--color-white-base);border-radius:3px;background:var(--color-blue);color:var(--color-white-base)}  .ql-toolbar.ql-snow+.ql-container.ql-snow{border-top:2px solid var(--color-white-base)}"]})};export{M as NewSubjectComponent};
