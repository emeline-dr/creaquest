import{a as N}from"./chunk-4MHKQR7U.js";import{a as X}from"./chunk-MMUSKXOL.js";import{b as P,f as z,h as H,o as A}from"./chunk-3M5UH2B5.js";import{a as O,b as $}from"./chunk-3BA7FMGK.js";import{w as B,x as R}from"./chunk-YVT3WIWJ.js";import"./chunk-OUIXM5MW.js";import"./chunk-P74D5YH2.js";import"./chunk-AGUO72EF.js";import{Ia as u,Jb as V,Ka as p,La as _,Mb as W,Oa as v,Pa as b,Qa as h,Ra as g,Sa as n,Sb as j,Ta as a,Ua as m,Va as S,Wa as f,Xa as c,Y as F,eb as o,fa as C,ga as w,gb as s,ha as k,ia as T,ib as M,jb as D,kb as q,mb as L,nb as I,ya as r,za as y}from"./chunk-NTXE5QSV.js";import"./chunk-GAL4ENT6.js";var E=i=>({"last:mb-0":i});function U(i,t){i&1&&m(0,"i-lucide",9)}function J(i,t){i&1&&m(0,"i-lucide",10)}function K(i,t){i&1&&(n(0,"div",14),m(1,"app-loading"),a())}function Q(i,t){if(i&1){let e=S();n(0,"div",17),o(1),n(2,"div",18)(3,"span",19),o(4),a(),n(5,"button",20),m(6,"i-lucide",21),a(),n(7,"div",22)(8,"div",23)(9,"div",24)(10,"div",25)(11,"h3",26),o(12),a(),n(13,"button",27)(14,"span",28),o(15,"Fermer"),a(),k(),n(16,"svg",29),m(17,"path",30)(18,"path",31),a()()(),T(),n(19,"div",32)(20,"p",33),o(21),a()(),n(22,"div",34)(23,"button",35),o(24," Fermer "),a(),n(25,"a",36),f("click",function(){let d=C(e).$implicit,x=c(2);return w(x.validateTask(d.w_id,"writing"))}),o(26," Valider la t\xE2che "),a()()()()()()()}if(i&2){let e=t.$implicit,l=c(2);_("ngClass",I(10,E,!l.viewCompletedTasks)),r(),s(" ",e.w_name," "),r(3),s("+",e.w_exp," XP"),r(),p("aria-controls","hs-basic-modal-w"+e.w_id)("data-hs-overlay","#hs-basic-modal-w"+e.w_id),r(2),_("id","hs-basic-modal-w"+e.w_id),r(5),s(" ",e.w_name," "),r(),p("data-hs-overlay","#hs-basic-modal-w"+e.w_id),r(8),s(" ",e.w_description," "),r(2),p("data-hs-overlay","#hs-basic-modal-w"+e.w_id)}}function Y(i,t){if(i&1&&(n(0,"div",37),o(1),n(2,"div",18)(3,"span",19),o(4),a(),m(5,"i-lucide",38),a()()),i&2){let e=t.$implicit;r(),s(" ",e.w_name," "),r(3),s("+",e.w_exp," XP")}}function Z(i,t){if(i&1&&h(0,Y,6,2,"div",37,b),i&2){let e=c(2);g(e.tasksCompletedWriting)}}function ee(i,t){if(i&1&&(h(0,Q,27,12,"div",17,b),u(2,Z,2,0)),i&2){let e=c();g(e.tasksWriting),r(2),v(e.viewCompletedTasks?2:-1)}}function te(i,t){i&1&&(n(0,"div",14),m(1,"app-loading"),a())}function ie(i,t){if(i&1){let e=S();n(0,"div",17),o(1),n(2,"div",18)(3,"span",19),o(4),a(),n(5,"button",20),m(6,"i-lucide",21),a(),n(7,"div",22)(8,"div",23)(9,"div",24)(10,"div",25)(11,"h3",26),o(12),a(),n(13,"button",27)(14,"span",28),o(15,"Fermer"),a(),k(),n(16,"svg",29),m(17,"path",30)(18,"path",31),a()()(),T(),n(19,"div",32)(20,"p",33),o(21),a()(),n(22,"div",34)(23,"button",35),o(24," Fermer "),a(),n(25,"a",36),f("click",function(){let d=C(e).$implicit,x=c(2);return w(x.validateTask(d.r_id,"reading"))}),o(26," Valider la t\xE2che "),a()()()()()()()}if(i&2){let e=t.$implicit,l=c(2);_("ngClass",I(10,E,!l.viewCompletedTasks)),r(),s(" ",e.r_name," "),r(3),s("+",e.r_exp," XP"),r(),p("aria-controls","hs-basic-modal-r"+e.r_id)("data-hs-overlay","#hs-basic-modal-r"+e.r_id),r(2),_("id","hs-basic-modal-r"+e.r_id),r(5),s(" ",e.r_name," "),r(),p("data-hs-overlay","#hs-basic-modal-r"+e.r_id),r(8),s(" ",e.r_description," "),r(2),p("data-hs-overlay","#hs-basic-modal-r"+e.r_id)}}function ne(i,t){if(i&1&&(n(0,"div",37),o(1),n(2,"div",18)(3,"span",19),o(4),a(),m(5,"i-lucide",38),a()()),i&2){let e=t.$implicit;r(),s(" ",e.r_name," "),r(3),s("+",e.r_exp," XP")}}function ae(i,t){if(i&1&&h(0,ne,6,2,"div",37,b),i&2){let e=c(2);g(e.tasksCompletedReading)}}function re(i,t){if(i&1&&(h(0,ie,27,12,"div",17,b),u(2,ae,2,0)),i&2){let e=c();g(e.tasksReading),r(2),v(e.viewCompletedTasks?2:-1)}}function oe(i,t){i&1&&(n(0,"div",14),m(1,"app-loading"),a())}function le(i,t){if(i&1){let e=S();n(0,"div",17),o(1),n(2,"div",18)(3,"span",19),o(4),a(),n(5,"button",20),m(6,"i-lucide",21),a(),n(7,"div",22)(8,"div",23)(9,"div",24)(10,"div",25)(11,"h3",26),o(12),a(),n(13,"button",27)(14,"span",28),o(15,"Fermer"),a(),k(),n(16,"svg",29),m(17,"path",30)(18,"path",31),a()()(),T(),n(19,"div",32)(20,"p",33),o(21),a()(),n(22,"div",34)(23,"button",35),o(24," Fermer "),a(),n(25,"a",36),f("click",function(){let d=C(e).$implicit,x=c(2);return w(x.validateTask(d.d_id,"drawing"))}),o(26," Valider la t\xE2che "),a()()()()()()()}if(i&2){let e=t.$implicit,l=c(2);_("ngClass",I(10,E,!l.viewCompletedTasks)),r(),s(" ",e.d_name," "),r(3),s("+",e.d_exp," XP"),r(),p("aria-controls","hs-basic-modal-d"+e.d_id)("data-hs-overlay","#hs-basic-modal-d"+e.d_id),r(2),_("id","hs-basic-modal-d"+e.d_id),r(5),s(" ",e.d_name," "),r(),p("data-hs-overlay","#hs-basic-modal-d"+e.d_id),r(8),s(" ",e.d_description," "),r(2),p("data-hs-overlay","#hs-basic-modal-d"+e.d_id)}}function de(i,t){if(i&1&&(n(0,"div",37),o(1),n(2,"div",18)(3,"span",19),o(4),a(),m(5,"i-lucide",38),a()()),i&2){let e=t.$implicit;r(),s(" ",e.d_name," "),r(3),s("+",e.d_exp," XP")}}function se(i,t){if(i&1&&h(0,de,6,2,"div",37,b),i&2){let e=c(2);g(e.tasksCompletedDrawing)}}function me(i,t){if(i&1&&(h(0,le,27,12,"div",17,b),u(2,se,2,0)),i&2){let e=c();g(e.tasksDrawing),r(2),v(e.viewCompletedTasks?2:-1)}}var G=class i{constructor(t,e,l){this.authService=t;this.dataService=e;this.titleService=l;this.titleService.setTitle("Cr\xE9aquest - Index")}tasksWriting;tasksCompletedWriting;tasksReading;tasksCompletedReading;tasksDrawing;tasksCompletedDrawing;isTaskCompleted=!1;viewCompletedTasks=!1;isWritingTaskLoading=!0;isDrawingTaskLoading=!0;isReadingTaskLoading=!0;ngOnInit(){localStorage.getItem("viewCompletedTasks")==="true"&&(this.viewCompletedTasks=!0,this.isTaskCompleted=!0),this.dataService.getWritingTasks().subscribe({next:t=>{this.tasksWriting=t,setTimeout(()=>{HSOverlay.autoInit()})},error:t=>console.error("Erreur lors de la r\xE9cup\xE9ration des t\xE2ches",t)}),this.dataService.getCompletedWritingTasks().subscribe({next:t=>{this.tasksCompletedWriting=t,this.isWritingTaskLoading=!1},error:t=>console.error("Erreur lors de la r\xE9cup\xE9ration des t\xE2ches",t)}),this.dataService.getReadingTasks().subscribe({next:t=>{this.tasksReading=t,setTimeout(()=>{HSOverlay.autoInit()})},error:t=>console.error("Erreur lors de la r\xE9cup\xE9ration des t\xE2ches",t)}),this.dataService.getCompletedReadingTasks().subscribe({next:t=>{this.tasksCompletedReading=t,this.isReadingTaskLoading=!1},error:t=>console.error("Erreur lors de la r\xE9cup\xE9ration des t\xE2ches",t)}),this.dataService.getDrawingTasks().subscribe({next:t=>{this.tasksDrawing=t,setTimeout(()=>{HSOverlay.autoInit()})},error:t=>console.error("Erreur lors de la r\xE9cup\xE9ration des t\xE2ches",t)}),this.dataService.getCompletedDrawingTasks().subscribe({next:t=>{this.tasksCompletedDrawing=t,this.isDrawingTaskLoading=!1},error:t=>console.error("Erreur lors de la r\xE9cup\xE9ration des t\xE2ches",t)})}ngAfterViewInit(){HSStaticMethods?.autoInit?.()}viewTasksCompleted(){this.viewCompletedTasks=!this.viewCompletedTasks,this.isTaskCompleted=!this.isTaskCompleted,localStorage.setItem("viewCompletedTasks",this.viewCompletedTasks.toString())}validateTask(t,e){let l=Number(this.authService.getUserId());e==="writing"&&this.dataService.validateWritingTasks(l,t).subscribe({next:d=>{console.log("T\xE2che valid\xE9e",d),window.location.reload()},error:d=>console.error("Erreur",d)}),e==="reading"&&this.dataService.validateReadingTasks(l,t).subscribe({next:d=>{console.log("T\xE2che valid\xE9e",d),window.location.reload()},error:d=>console.error("Erreur",d)}),e==="drawing"&&this.dataService.validateDrawingTasks(l,t).subscribe({next:d=>{console.log("T\xE2che valid\xE9e",d),window.location.reload()},error:d=>console.error("Erreur",d)})}static \u0275fac=function(e){return new(e||i)(y(O),y($),y(j))};static \u0275cmp=F({type:i,selectors:[["app-index"]],standalone:!0,features:[L],decls:27,vars:5,consts:[[1,"indexBlock","absolute","w-full","top-[160px]","md:top-[125px]"],[1,"relative","z-2","w-3/4","h-auto","md:h-[90%]","mb-[80px]","md:mb-0","mx-auto","p-[25px]","rounded","bg-black","text-white-base"],["aria-label","Tabs","role","tablist","aria-orientation","horizontal",1,"flex","flex-wrap","gap-y-5","gap-x-10"],["type","button","id","equal-width-elements-item-1","aria-selected","true","data-hs-tab","#equal-width-elements-1","aria-controls","equal-width-elements-1","role","tab",1,"hs-tab-active:bg-blue","hs-tab-active:outline-5","hs-tab-active:outline-white-base","py-3","px-4","text-center","basis-0","grow","inline-flex","justify-center","items-center","gap-x-2","bg-orange","text-2xl","font-revalia","rounded","active"],["type","button","id","equal-width-elements-item-2","aria-selected","false","data-hs-tab","#equal-width-elements-2","aria-controls","equal-width-elements-2","role","tab",1,"hs-tab-active:bg-blue","hs-tab-active:outline-5","hs-tab-active:outline-white-base","py-3","px-4","text-center","basis-0","grow","inline-flex","justify-center","items-center","gap-x-2","bg-orange","text-2xl","font-revalia","rounded"],["type","button","id","equal-width-elements-item-3","aria-selected","false","data-hs-tab","#equal-width-elements-3","aria-controls","equal-width-elements-3","role","tab",1,"hs-tab-active:bg-blue","hs-tab-active:outline-5","hs-tab-active:outline-white-base","py-3","px-4","text-center","basis-0","grow","inline-flex","justify-center","items-center","gap-x-2","bg-orange","text-2xl","font-revalia","rounded"],[1,"flex","flex-wrap","mt-3"],["type","checkbox","name","taskCompleted","id","taskCompleted",1,"hidden",3,"ngModelChange","click","ngModel"],["for","taskCompleted",1,"cursor-pointer","text-orange-500","text-xl","me-[10px]"],["name","SquareCheck"],["name","Square"],["for","taskCompleted",1,"text-base"],[1,"mt-3","h-4/5","overflow-auto","scrollbar","scrollbar-thin","scrollbar-thumb-orange","scrollbar-track-orange/00"],["id","equal-width-elements-1","role","tabpanel","aria-labelledby","equal-width-elements-item-1"],[1,"w-full","flex","justify-center"],["id","equal-width-elements-2","role","tabpanel","aria-labelledby","equal-width-elements-item-2",1,"hidden"],["id","equal-width-elements-3","role","tabpanel","aria-labelledby","equal-width-elements-item-3",1,"hidden"],[1,"flex","flex-wrap","justify-center","md:justify-between","items-center","w-full","h-[130px]","bg-blue","rounded","text-base","px-[20px]","mb-[15px]",3,"ngClass"],[1,"flex","flex-wrap","items-center"],[1,"h-fit","text-lg","md:text-2xl","font-revalia","me-3"],["type","button","aria-haspopup","dialog","aria-expanded","false",1,"py-3","px-4","inline-flex","items-center"],["name","Circle",1,"size-[40px]","md:size-[75px]"],["role","dialog","tabindex","-1","aria-labelledby","hs-unstyled-modal-label",1,"hs-overlay","hidden","size-full","fixed","flex","flex-wrap","content-center","top-0","start-0","backdrop-blur-xs","z-60","overflow-x-hidden","overflow-y-auto","pointer-events-none",3,"id"],[1,"h-fit","hs-overlay-open:opacity-100","hs-overlay-open:duration-500","opacity-0","transition-all","sm:max-w-lg","sm:w-full","m-3","sm:mx-auto"],[1,"flex","flex-col","bg-blue-dark","border","border-black","shadow-2xs","rounded-xl","pointer-events-auto"],[1,"flex","justify-between","items-center","py-3","px-4"],["id","hs-basic-modal-label",1,"font-revalia","font-bold","text-white-base"],["type","button","aria-label","Close",1,"flex","justify-center","items-center","size-7","text-sm","font-semibold","rounded-full","border","border-transparent","text-gray-800","hover:bg-gray-100","focus:outline-hidden","focus:bg-gray-100"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"text-white-base","hover:text-black"],["d","M18 6 6 18"],["d","m6 6 12 12"],[1,"p-4","overflow-y-auto"],[1,"mt-1","text-white-base"],[1,"flex","justify-end","items-center","gap-x-2","py-3","px-4"],["type","button",1,"py-2","px-3","inline-flex","items-center","gap-x-2","text-sm","font-medium","text-white-base","shadow-2xs","hover:bg-blue","rounded","font-revalia"],[1,"py-2","px-3","inline-flex","items-center","gap-x-2","text-sm","font-medium","rounded","bg-orange","text-white-base","font-revalia","hover:bg-white-base","hover:text-orange","cursor-pointer",3,"click"],[1,"flex","flex-wrap","justify-between","items-center","w-full","h-[130px]","bg-blue","opacity-50","rounded","text-base","px-[20px]","mb-[15px]","last:mb-0"],["name","CircleCheckBig",1,"size-[40px]","md:size-[75px]"]],template:function(e,l){e&1&&(m(0,"app-user-snippet"),n(1,"div",0)(2,"div",1)(3,"nav",2)(4,"button",3),o(5," \xC9criture "),a(),n(6,"button",4),o(7," Lecture "),a(),n(8,"button",5),o(9," Dessin "),a()(),n(10,"div",6)(11,"input",7),q("ngModelChange",function(x){return D(l.isTaskCompleted,x)||(l.isTaskCompleted=x),x}),f("click",function(){return l.viewTasksCompleted()}),a(),n(12,"label",8),u(13,U,1,0,"i-lucide",9)(14,J,1,0,"i-lucide",10),a(),n(15,"label",11),o(16,"Montrer les t\xE2ches termin\xE9es."),a()(),n(17,"div",12)(18,"div",13),u(19,K,2,0,"div",14)(20,ee,3,1),a(),n(21,"div",15),u(22,te,2,0,"div",14)(23,re,3,1),a(),n(24,"div",16),u(25,oe,2,0,"div",14)(26,me,3,1),a()()()()),e&2&&(r(11),M("ngModel",l.isTaskCompleted),r(2),v(l.isTaskCompleted?13:14),r(6),v(l.isWritingTaskLoading?19:20),r(3),v(l.isReadingTaskLoading?22:23),r(3),v(l.isDrawingTaskLoading?25:26))},dependencies:[W,V,R,B,A,P,z,H,N,X],styles:[".indexBlock[_ngcontent-%COMP%]{height:calc(100vh - 125px)}@media (max-width: 768px){.indexBlock[_ngcontent-%COMP%]{height:auto}}"]})};export{G as IndexComponent};
